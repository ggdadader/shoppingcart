{"remainingRequest":"/Users/jz/shoppingcart/node_modules/babel-loader/lib/index.js!/Users/jz/shoppingcart/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/jz/shoppingcart/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jz/shoppingcart/src/components/AdminRestaurantForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jz/shoppingcart/src/components/AdminRestaurantForm.vue","mtime":1637634898633},{"path":"/Users/jz/shoppingcart/babel.config.js","mtime":1636600616203},{"path":"/Users/jz/shoppingcart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jz/shoppingcart/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jz/shoppingcart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jz/shoppingcart/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2p6L3Nob3BwaW5nY2FydC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi51cmwtc2VhcmNoLXBhcmFtcy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBkdW1teURhdGEgPSB7CiAgY2F0ZWdvcmllczogW3sKICAgIGlkOiAxLAogICAgbmFtZTogJ+S4reW8j+aWmeeQhicsCiAgICBjcmVhdGVkQXQ6ICcyMDE5LTA2LTIyVDA5OjAwOjQzLjAwMFonLAogICAgdXBkYXRlZEF0OiAnMjAxOS0wNi0yMlQwOTowMDo0My4wMDBaJwogIH0sIHsKICAgIGlkOiAyLAogICAgbmFtZTogJ+aXpeacrOaWmeeQhicsCiAgICBjcmVhdGVkQXQ6ICcyMDE5LTA2LTIyVDA5OjAwOjQzLjAwMFonLAogICAgdXBkYXRlZEF0OiAnMjAxOS0wNi0yMlQwOTowMDo0My4wMDBaJwogIH0sIHsKICAgIGlkOiAzLAogICAgbmFtZTogJ+e+qeWkp+WIqeaWmeeQhicsCiAgICBjcmVhdGVkQXQ6ICcyMDE5LTA2LTIyVDA5OjAwOjQzLjAwMFonLAogICAgdXBkYXRlZEF0OiAnMjAxOS0wNi0yMlQwOTowMDo0My4wMDBaJwogIH0sIHsKICAgIGlkOiA0LAogICAgbmFtZTogJ+WiqOilv+WTpeaWmeeQhicsCiAgICBjcmVhdGVkQXQ6ICcyMDE5LTA2LTIyVDA5OjAwOjQzLjAwMFonLAogICAgdXBkYXRlZEF0OiAnMjAxOS0wNi0yMlQwOTowMDo0My4wMDBaJwogIH1dCn07CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQWRtaW5SZXN0YXVyYW50Rm9ybScsCiAgcHJvcHM6IHsKICAgIGluaXRpYWxSZXN0YXVyYW50OiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgY2F0ZWdvcnlJZDogJycsCiAgICAgICAgICB0ZWw6ICcnLAogICAgICAgICAgYWRkcmVzczogJycsCiAgICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgICBpbWFnZTogJycsCiAgICAgICAgICBvcGVuaW5nSG91cnM6ICcnCiAgICAgICAgfTsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3RhdXJhbnQ6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBjYXRlZ29yeUlkOiAnJywKICAgICAgICB0ZWw6ICcnLAogICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBpbWFnZTogJycsCiAgICAgICAgb3BlbmluZ0hvdXJzOiAnJwogICAgICB9LAogICAgICBjYXRlZ29yaWVzOiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmZldGNoQ2F0ZWdvcmllcygpOwogICAgdGhpcy5yZXN0YXVyYW50ID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLnJlc3RhdXJhbnQpLCB0aGlzLmluaXRpYWxSZXN0YXVyYW50KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGZldGNoQ2F0ZWdvcmllczogZnVuY3Rpb24gZmV0Y2hDYXRlZ29yaWVzKCkgewogICAgICB0aGlzLmNhdGVnb3JpZXMgPSBkdW1teURhdGEuY2F0ZWdvcmllczsKICAgIH0sCiAgICBoYW5kbGVGaWxlQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVGaWxlQ2hhbmdlKGUpIHsKICAgICAgdmFyIGZpbGVzID0gZS50YXJnZXQuZmlsZXM7CgogICAgICBpZiAoZmlsZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5yZXN0YXVyYW50LmltYWdlID0gJyc7CiAgICAgICAgcmV0dXJuOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBpbWFnZVVSTCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGVzWzBdKTsKICAgICAgICB0aGlzLnJlc3RhdXJhbnQuaW1hZ2UgPSBpbWFnZVVSTDsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVN1Ym1pdDogZnVuY3Rpb24gaGFuZGxlU3VibWl0KGUpIHsKICAgICAgY29uc29sZS5sb2coJ2UnLCBlKTsKICAgICAgdmFyIGZvcm0gPSBlLnRhcmdldDsKICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pOwogICAgICB0aGlzLiRlbWl0KCdhZnRlci1zdWJtaXQnLCBmb3JtRGF0YSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["AdminRestaurantForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA,IAAA,SAAA,GAAA;AACA,EAAA,UAAA,EAAA,CACA;AACA,IAAA,EAAA,EAAA,CADA;AAEA,IAAA,IAAA,EAAA,MAFA;AAGA,IAAA,SAAA,EAAA,0BAHA;AAIA,IAAA,SAAA,EAAA;AAJA,GADA,EAOA;AACA,IAAA,EAAA,EAAA,CADA;AAEA,IAAA,IAAA,EAAA,MAFA;AAGA,IAAA,SAAA,EAAA,0BAHA;AAIA,IAAA,SAAA,EAAA;AAJA,GAPA,EAaA;AACA,IAAA,EAAA,EAAA,CADA;AAEA,IAAA,IAAA,EAAA,OAFA;AAGA,IAAA,SAAA,EAAA,0BAHA;AAIA,IAAA,SAAA,EAAA;AAJA,GAbA,EAmBA;AACA,IAAA,EAAA,EAAA,CADA;AAEA,IAAA,IAAA,EAAA,OAFA;AAGA,IAAA,SAAA,EAAA,0BAHA;AAIA,IAAA,SAAA,EAAA;AAJA,GAnBA;AADA,CAAA;AA4BA,eAAA;AACA,EAAA,IAAA,EAAA,qBADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,iBAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAAA,eAAA;AACA,UAAA,IAAA,EAAA,EADA;AAEA,UAAA,UAAA,EAAA,EAFA;AAGA,UAAA,GAAA,EAAA,EAHA;AAIA,UAAA,OAAA,EAAA,EAJA;AAKA,UAAA,WAAA,EAAA,EALA;AAMA,UAAA,KAAA,EAAA,EANA;AAOA,UAAA,YAAA,EAAA;AAPA,SAAA;AAAA;AAFA;AADA,GAFA;AAgBA,EAAA,IAhBA,kBAgBA;AACA,WAAA;AACA,MAAA,UAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,UAAA,EAAA,EAFA;AAGA,QAAA,GAAA,EAAA,EAHA;AAIA,QAAA,OAAA,EAAA,EAJA;AAKA,QAAA,WAAA,EAAA,EALA;AAMA,QAAA,KAAA,EAAA,EANA;AAOA,QAAA,YAAA,EAAA;AAPA,OADA;AAUA,MAAA,UAAA,EAAA;AAVA,KAAA;AAYA,GA7BA;AA8BA,EAAA,OA9BA,qBA8BA;AACA,SAAA,eAAA;AACA,SAAA,UAAA,mCACA,KAAA,UADA,GAEA,KAAA,iBAFA;AAIA,GApCA;AAqCA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AACA,WAAA,UAAA,GAAA,SAAA,CAAA,UAAA;AACA,KAHA;AAIA,IAAA,gBAJA,4BAIA,CAJA,EAIA;AACA,UAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,MAAA,KAAA,CAAA,EAAA;AACA,aAAA,UAAA,CAAA,KAAA,GAAA,EAAA;AACA;AACA,OAHA,MAGA;AACA,YAAA,QAAA,GAAA,MAAA,CAAA,GAAA,CAAA,eAAA,CAAA,KAAA,CAAA,CAAA,CAAA,CAAA;AACA,aAAA,UAAA,CAAA,KAAA,GAAA,QAAA;AACA;AACA,KAbA;AAcA,IAAA,YAdA,wBAcA,CAdA,EAcA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,GAAA,EAAA,CAAA;AACA,UAAA,IAAA,GAAA,CAAA,CAAA,MAAA;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,CAAA,IAAA,CAAA;AACA,WAAA,KAAA,CAAA,cAAA,EAAA,QAAA;AAEA;AApBA;AArCA,CAAA","sourcesContent":["<template>\n  <form @submit.stop.prevent=\"handleSubmit\">\n    <div class=\"form-group\">\n      <label for=\"name\">Name</label>\n      <input\n        id=\"name\"\n        v-model=\"restaurant.name\"\n        type=\"text\"\n        class=\"form-control\"\n        name=\"name\"\n        placeholder=\"Enter name\"\n        required\n      >\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"categoryId\">Category</label>\n      <select\n        id=\"categoryId\"\n        v-model=\"restaurant.categoryId\"\n        class=\"form-control\"\n        name=\"categoryId\"\n        required\n      >\n        <option\n          value=\"\"\n          selected\n          disabled\n        >\n          --請選擇--\n        </option>\n        <option \n          v-for=\"category in categories\"\n          :key=\"category.id\"\n          :value=\"category.id\">\n          {{category.name}}\n          </option>\n      </select>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"tel\">Tel</label>\n      <input\n        id=\"tel\"\n        v-model=\"restaurant.tel\"\n        type=\"text\"\n        class=\"form-control\"\n        name=\"tel\"\n        placeholder=\"Enter telephone number\"\n      >\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"address\">Address</label>\n      <input\n        id=\"address\"\n        v-model=\"restaurant.address\"\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"Enter address\"\n        name=\"address\"\n      >\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"opening-hours\">Opening Hours</label>\n      <input\n        id=\"opening-hours\"\n        v-model=\"restaurant.openingHours\"\n        type=\"time\"\n        class=\"form-control\"\n        name=\"opening_hours\"\n      >\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"description\">Description</label>\n      <textarea\n        id=\"description\"\n        v-model=\"restaurant.description\"\n        class=\"form-control\"\n        rows=\"3\"\n        name=\"description\"\n      />\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"image\">Image</label>\n      <img \n      v-if=\"restaurant.img\"\n      :src=\"restaurant.image\" class=\"d-block img-thumbnail mb-3\"\n      width=\"200\"\n      height=\"200\">\n      <input\n        id=\"image\"\n        type=\"file\"\n        name=\"image\"\n        accept=\"image/*\"\n        class=\"form-control-file\"\n        @change=\"handleFileChange\"\n      >\n    </div>\n\n    <button\n      type=\"submit\"\n      class=\"btn btn-primary\"\n    >\n      送出\n    </button>\n  </form>\n</template>\n\n<script>\nconst dummyData = {\n  categories: [\n    {\n      id: 1,\n      name: '中式料理',\n      createdAt: '2019-06-22T09:00:43.000Z',\n      updatedAt: '2019-06-22T09:00:43.000Z'\n    },\n    {\n      id: 2,\n      name: '日本料理',\n      createdAt: '2019-06-22T09:00:43.000Z',\n      updatedAt: '2019-06-22T09:00:43.000Z'\n    },\n    {\n      id: 3,\n      name: '義大利料理',\n      createdAt: '2019-06-22T09:00:43.000Z',\n      updatedAt: '2019-06-22T09:00:43.000Z'\n    },\n    {\n      id: 4,\n      name: '墨西哥料理',\n      createdAt: '2019-06-22T09:00:43.000Z',\n      updatedAt: '2019-06-22T09:00:43.000Z'\n    }\n  ]\n}\nexport default {\n  name: 'AdminRestaurantForm',\n  props: {\n    initialRestaurant: {\n      type: Object,\n      default: () => ({\n        name: '',\n        categoryId: '',\n        tel: '',\n        address: '',\n        description: '',\n        image: '',\n        openingHours: '',\n      })\n    }\n  },\n  data () {\n    return {\n      restaurant: {\n        name: '',\n        categoryId: '',\n        tel: '',\n        address: '',\n        description: '',\n        image: '',\n        openingHours:''\n      },\n      categories: []\n    }\n  },\n  created () {\n    this.fetchCategories()\n    this.restaurant = {\n      ...this.restaurant,\n      ...this.initialRestaurant\n    }\n  },\n  methods: {\n    fetchCategories () {\n      this.categories = dummyData.categories\n    },\n    handleFileChange (e) {\n      const { files }  = e.target\n      if(files.length === 0) {\n        this.restaurant.image='' \n        return\n      } else{\n      const imageURL = window.URL.createObjectURL(files[0])\n      this.restaurant.image = imageURL\n      }\n    },\n    handleSubmit(e){\n      console.log('e', e)\n      const form = e.target\n      const formData = new FormData(form)\n      this.$emit('after-submit', formData)\n      \n    }\n\n  }\n}\n</script>"],"sourceRoot":"src/components"}]}