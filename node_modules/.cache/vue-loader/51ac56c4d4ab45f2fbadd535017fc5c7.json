{"remainingRequest":"/Users/jz/shoppingcart/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jz/shoppingcart/src/components/AdminRestaurantForm.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jz/shoppingcart/src/components/AdminRestaurantForm.vue","mtime":1637634898633},{"path":"/Users/jz/shoppingcart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jz/shoppingcart/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/jz/shoppingcart/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/jz/shoppingcart/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmNvbnN0IGR1bW15RGF0YSA9IHsKICBjYXRlZ29yaWVzOiBbCiAgICB7CiAgICAgIGlkOiAxLAogICAgICBuYW1lOiAn5Lit5byP5paZ55CGJywKICAgICAgY3JlYXRlZEF0OiAnMjAxOS0wNi0yMlQwOTowMDo0My4wMDBaJywKICAgICAgdXBkYXRlZEF0OiAnMjAxOS0wNi0yMlQwOTowMDo0My4wMDBaJwogICAgfSwKICAgIHsKICAgICAgaWQ6IDIsCiAgICAgIG5hbWU6ICfml6XmnKzmlpnnkIYnLAogICAgICBjcmVhdGVkQXQ6ICcyMDE5LTA2LTIyVDA5OjAwOjQzLjAwMFonLAogICAgICB1cGRhdGVkQXQ6ICcyMDE5LTA2LTIyVDA5OjAwOjQzLjAwMFonCiAgICB9LAogICAgewogICAgICBpZDogMywKICAgICAgbmFtZTogJ+e+qeWkp+WIqeaWmeeQhicsCiAgICAgIGNyZWF0ZWRBdDogJzIwMTktMDYtMjJUMDk6MDA6NDMuMDAwWicsCiAgICAgIHVwZGF0ZWRBdDogJzIwMTktMDYtMjJUMDk6MDA6NDMuMDAwWicKICAgIH0sCiAgICB7CiAgICAgIGlkOiA0LAogICAgICBuYW1lOiAn5aKo6KW/5ZOl5paZ55CGJywKICAgICAgY3JlYXRlZEF0OiAnMjAxOS0wNi0yMlQwOTowMDo0My4wMDBaJywKICAgICAgdXBkYXRlZEF0OiAnMjAxOS0wNi0yMlQwOTowMDo0My4wMDBaJwogICAgfQogIF0KfQpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FkbWluUmVzdGF1cmFudEZvcm0nLAogIHByb3BzOiB7CiAgICBpbml0aWFsUmVzdGF1cmFudDogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+ICh7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgY2F0ZWdvcnlJZDogJycsCiAgICAgICAgdGVsOiAnJywKICAgICAgICBhZGRyZXNzOiAnJywKICAgICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgICAgaW1hZ2U6ICcnLAogICAgICAgIG9wZW5pbmdIb3VyczogJycsCiAgICAgIH0pCiAgICB9CiAgfSwKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlc3RhdXJhbnQ6IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBjYXRlZ29yeUlkOiAnJywKICAgICAgICB0ZWw6ICcnLAogICAgICAgIGFkZHJlc3M6ICcnLAogICAgICAgIGRlc2NyaXB0aW9uOiAnJywKICAgICAgICBpbWFnZTogJycsCiAgICAgICAgb3BlbmluZ0hvdXJzOicnCiAgICAgIH0sCiAgICAgIGNhdGVnb3JpZXM6IFtdCiAgICB9CiAgfSwKICBjcmVhdGVkICgpIHsKICAgIHRoaXMuZmV0Y2hDYXRlZ29yaWVzKCkKICAgIHRoaXMucmVzdGF1cmFudCA9IHsKICAgICAgLi4udGhpcy5yZXN0YXVyYW50LAogICAgICAuLi50aGlzLmluaXRpYWxSZXN0YXVyYW50CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZXRjaENhdGVnb3JpZXMgKCkgewogICAgICB0aGlzLmNhdGVnb3JpZXMgPSBkdW1teURhdGEuY2F0ZWdvcmllcwogICAgfSwKICAgIGhhbmRsZUZpbGVDaGFuZ2UgKGUpIHsKICAgICAgY29uc3QgeyBmaWxlcyB9ICA9IGUudGFyZ2V0CiAgICAgIGlmKGZpbGVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMucmVzdGF1cmFudC5pbWFnZT0nJyAKICAgICAgICByZXR1cm4KICAgICAgfSBlbHNlewogICAgICBjb25zdCBpbWFnZVVSTCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGVzWzBdKQogICAgICB0aGlzLnJlc3RhdXJhbnQuaW1hZ2UgPSBpbWFnZVVSTAogICAgICB9CiAgICB9LAogICAgaGFuZGxlU3VibWl0KGUpewogICAgICBjb25zb2xlLmxvZygnZScsIGUpCiAgICAgIGNvbnN0IGZvcm0gPSBlLnRhcmdldAogICAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShmb3JtKQogICAgICB0aGlzLiRlbWl0KCdhZnRlci1zdWJtaXQnLCBmb3JtRGF0YSkKICAgICAgCiAgICB9CgogIH0KfQo="},{"version":3,"sources":["AdminRestaurantForm.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"AdminRestaurantForm.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <form @submit.stop.prevent=\"handleSubmit\">\n    <div class=\"form-group\">\n      <label for=\"name\">Name</label>\n      <input\n        id=\"name\"\n        v-model=\"restaurant.name\"\n        type=\"text\"\n        class=\"form-control\"\n        name=\"name\"\n        placeholder=\"Enter name\"\n        required\n      >\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"categoryId\">Category</label>\n      <select\n        id=\"categoryId\"\n        v-model=\"restaurant.categoryId\"\n        class=\"form-control\"\n        name=\"categoryId\"\n        required\n      >\n        <option\n          value=\"\"\n          selected\n          disabled\n        >\n          --請選擇--\n        </option>\n        <option \n          v-for=\"category in categories\"\n          :key=\"category.id\"\n          :value=\"category.id\">\n          {{category.name}}\n          </option>\n      </select>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"tel\">Tel</label>\n      <input\n        id=\"tel\"\n        v-model=\"restaurant.tel\"\n        type=\"text\"\n        class=\"form-control\"\n        name=\"tel\"\n        placeholder=\"Enter telephone number\"\n      >\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"address\">Address</label>\n      <input\n        id=\"address\"\n        v-model=\"restaurant.address\"\n        type=\"text\"\n        class=\"form-control\"\n        placeholder=\"Enter address\"\n        name=\"address\"\n      >\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"opening-hours\">Opening Hours</label>\n      <input\n        id=\"opening-hours\"\n        v-model=\"restaurant.openingHours\"\n        type=\"time\"\n        class=\"form-control\"\n        name=\"opening_hours\"\n      >\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"description\">Description</label>\n      <textarea\n        id=\"description\"\n        v-model=\"restaurant.description\"\n        class=\"form-control\"\n        rows=\"3\"\n        name=\"description\"\n      />\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"image\">Image</label>\n      <img \n      v-if=\"restaurant.img\"\n      :src=\"restaurant.image\" class=\"d-block img-thumbnail mb-3\"\n      width=\"200\"\n      height=\"200\">\n      <input\n        id=\"image\"\n        type=\"file\"\n        name=\"image\"\n        accept=\"image/*\"\n        class=\"form-control-file\"\n        @change=\"handleFileChange\"\n      >\n    </div>\n\n    <button\n      type=\"submit\"\n      class=\"btn btn-primary\"\n    >\n      送出\n    </button>\n  </form>\n</template>\n\n<script>\nconst dummyData = {\n  categories: [\n    {\n      id: 1,\n      name: '中式料理',\n      createdAt: '2019-06-22T09:00:43.000Z',\n      updatedAt: '2019-06-22T09:00:43.000Z'\n    },\n    {\n      id: 2,\n      name: '日本料理',\n      createdAt: '2019-06-22T09:00:43.000Z',\n      updatedAt: '2019-06-22T09:00:43.000Z'\n    },\n    {\n      id: 3,\n      name: '義大利料理',\n      createdAt: '2019-06-22T09:00:43.000Z',\n      updatedAt: '2019-06-22T09:00:43.000Z'\n    },\n    {\n      id: 4,\n      name: '墨西哥料理',\n      createdAt: '2019-06-22T09:00:43.000Z',\n      updatedAt: '2019-06-22T09:00:43.000Z'\n    }\n  ]\n}\nexport default {\n  name: 'AdminRestaurantForm',\n  props: {\n    initialRestaurant: {\n      type: Object,\n      default: () => ({\n        name: '',\n        categoryId: '',\n        tel: '',\n        address: '',\n        description: '',\n        image: '',\n        openingHours: '',\n      })\n    }\n  },\n  data () {\n    return {\n      restaurant: {\n        name: '',\n        categoryId: '',\n        tel: '',\n        address: '',\n        description: '',\n        image: '',\n        openingHours:''\n      },\n      categories: []\n    }\n  },\n  created () {\n    this.fetchCategories()\n    this.restaurant = {\n      ...this.restaurant,\n      ...this.initialRestaurant\n    }\n  },\n  methods: {\n    fetchCategories () {\n      this.categories = dummyData.categories\n    },\n    handleFileChange (e) {\n      const { files }  = e.target\n      if(files.length === 0) {\n        this.restaurant.image='' \n        return\n      } else{\n      const imageURL = window.URL.createObjectURL(files[0])\n      this.restaurant.image = imageURL\n      }\n    },\n    handleSubmit(e){\n      console.log('e', e)\n      const form = e.target\n      const formData = new FormData(form)\n      this.$emit('after-submit', formData)\n      \n    }\n\n  }\n}\n</script>"]}]}